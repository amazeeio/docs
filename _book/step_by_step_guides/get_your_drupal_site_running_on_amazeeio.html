
<!DOCTYPE HTML>
<html lang="" >
    <head>
        <meta charset="UTF-8">
        <meta content="text/html; charset=utf-8" http-equiv="Content-Type">
        <title>Get your Drupal Site locally running Â· docs.amazee.io</title>
        <meta http-equiv="X-UA-Compatible" content="IE=edge" />
        <meta name="description" content="">
        <meta name="generator" content="GitBook 3.2.2">
        
        
        
    
    <link rel="stylesheet" href="../gitbook/style.css">

    
            
                
                <link rel="stylesheet" href="../gitbook/gitbook-plugin-atoc/atoc.css">
                
            
                
                <link rel="stylesheet" href="../gitbook/gitbook-plugin-hints/plugin-hints.css">
                
            
                
                <link rel="stylesheet" href="../gitbook/gitbook-plugin-advanced-emoji/emoji-website.css">
                
            
                
                <link rel="stylesheet" href="../gitbook/gitbook-plugin-highlight/website.css">
                
            
                
                <link rel="stylesheet" href="../gitbook/gitbook-plugin-fontsettings/website.css">
                
            
        

    

    
        
        <link rel="stylesheet" href="../styles/website.css">
        
    
        
    
        
    
        
    
        
    
        
    

        
    
    
    <meta name="HandheldFriendly" content="true"/>
    <meta name="viewport" content="width=device-width, initial-scale=1, user-scalable=no">
    <meta name="apple-mobile-web-app-capable" content="yes">
    <meta name="apple-mobile-web-app-status-bar-style" content="black">
    <link rel="apple-touch-icon-precomposed" sizes="152x152" href="../gitbook/images/apple-touch-icon-precomposed-152.png">
    <link rel="shortcut icon" href="../gitbook/images/favicon.ico" type="image/x-icon">

    
    <link rel="next" href="push-local-site-to-development-server.html" />
    
    
    <link rel="prev" href="technical_requirements.html" />
    

    </head>
    <body>
        
<div class="book">
    <div class="book-summary">
        
            
            
                <nav role="navigation">
                


<ul class="summary">
    
    
    
        
        <li>
            <a href="https://www.amazee.io" target="_blank" class="custom-link">www.amazee.io</a>
        </li>
    
    

    
    <li class="divider"></li>
    

    
        
        
    
        <li class="chapter " data-level="1.1" data-path="../">
            
                <a href="../">
            
                    
                    Introduction
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.2" data-path="step_by_step_guides.html">
            
                <a href="step_by_step_guides.html">
            
                    
                    Step by Step Guides
            
                </a>
            

            
            <ul class="articles">
                
    
        <li class="chapter " data-level="1.2.1" data-path="technical_requirements.html">
            
                <a href="technical_requirements.html">
            
                    
                    Technical Requirements
            
                </a>
            

            
        </li>
    
        <li class="chapter active" data-level="1.2.2" data-path="get_your_drupal_site_running_on_amazeeio.html">
            
                <a href="get_your_drupal_site_running_on_amazeeio.html">
            
                    
                    Get your Drupal Site locally running
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.2.3" data-path="push-local-site-to-development-server.html">
            
                <a href="push-local-site-to-development-server.html">
            
                    
                    Push local site to development server
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.2.4" data-path="grant_amazeeio_access_to_sourcecode.html">
            
                <a href="grant_amazeeio_access_to_sourcecode.html">
            
                    
                    Grant access to your sourcecode
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.2.5" data-path="golive_on_amazeeio.html">
            
                <a href="golive_on_amazeeio.html">
            
                    
                    Going Live
            
                </a>
            

            
        </li>
    

            </ul>
            
        </li>
    
        <li class="chapter " data-level="1.3" data-path="../local_docker_development/local_docker_development.html">
            
                <a href="../local_docker_development/local_docker_development.html">
            
                    
                    Local Docker Development
            
                </a>
            

            
            <ul class="articles">
                
    
        <li class="chapter " data-level="1.3.1" data-path="../local_docker_development/pygmy.html">
            
                <a href="../local_docker_development/pygmy.html">
            
                    
                    Linux & OS X - pygmy
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.3.2" data-path="../local_docker_development/os_x_cachalot.html">
            
                <a href="../local_docker_development/os_x_cachalot.html">
            
                    
                    OS X Alternative - cachalot
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.3.3" data-path="../local_docker_development/windows.html">
            
                <a href="../local_docker_development/windows.html">
            
                    
                    Windows
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.3.4" data-path="../local_docker_development/drupal_site_containers.html">
            
                <a href="../local_docker_development/drupal_site_containers.html">
            
                    
                    Drupal Docker Containers
            
                </a>
            

            
            <ul class="articles">
                
    
        <li class="chapter " data-level="1.3.4.1" data-path="../local_docker_development/connect_to_mysql_from_external.html">
            
                <a href="../local_docker_development/connect_to_mysql_from_external.html">
            
                    
                    Connect to MySQL
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.3.4.2" data-path="../local_docker_development/map_addtitional_ports.html">
            
                <a href="../local_docker_development/map_addtitional_ports.html">
            
                    
                    Map additional ports
            
                </a>
            

            
        </li>
    

            </ul>
            
        </li>
    
        <li class="chapter " data-level="1.3.5" data-path="../local_docker_development/troubleshooting.html">
            
                <a href="../local_docker_development/troubleshooting.html">
            
                    
                    Troubleshooting
            
                </a>
            

            
        </li>
    

            </ul>
            
        </li>
    
        <li class="chapter " data-level="1.4" data-path="../architecture/architecture.html">
            
                <a href="../architecture/architecture.html">
            
                    
                    Architecture
            
                </a>
            

            
            <ul class="articles">
                
    
        <li class="chapter " data-level="1.4.1" data-path="../architecture/stack-types.html">
            
                <a href="../architecture/stack-types.html">
            
                    
                    Stack-Types
            
                </a>
            

            
            <ul class="articles">
                
    
        <li class="chapter " data-level="1.4.1.1" data-path="../architecture/stack-types/compact.html">
            
                <a href="../architecture/stack-types/compact.html">
            
                    
                    Compact Stack
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.4.1.2" data-path="../architecture/stack-types/cluster.html">
            
                <a href="../architecture/stack-types/cluster.html">
            
                    
                    Cluster Stack
            
                </a>
            

            
        </li>
    

            </ul>
            
        </li>
    
        <li class="chapter " data-level="1.4.2" data-path="../architecture/components.html">
            
                <a href="../architecture/components.html">
            
                    
                    Stack Components
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.4.3" data-path="../architecture/environment_type.html">
            
                <a href="../architecture/environment_type.html">
            
                    
                    Environment type
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.4.4" data-path="../architecture/e-mail_delivery.html">
            
                <a href="../architecture/e-mail_delivery.html">
            
                    
                    E-Mail Delivery
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.4.5" data-path="../architecture/url-structure.html">
            
                <a href="../architecture/url-structure.html">
            
                    
                    URL Structure
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.4.6" data-path="../architecture/varnish_testing.html">
            
                <a href="../architecture/varnish_testing.html">
            
                    
                    Varnish Testing
            
                </a>
            

            
        </li>
    

            </ul>
            
        </li>
    
        <li class="chapter " data-level="1.5" data-path="../automated_deployments.html">
            
                <a href="../automated_deployments.html">
            
                    
                    Automated Deployments
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.6" data-path="../drupal/amazeeioyml_file.html">
            
                <a href="../drupal/amazeeioyml_file.html">
            
                    
                    .amazeeio.yml file
            
                </a>
            

            
            <ul class="articles">
                
    
        <li class="chapter " data-level="1.6.1" data-path="../drupal/example-for-drupal-7.html">
            
                <a href="../drupal/example-for-drupal-7.html">
            
                    
                    example for Drupal 7
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.6.2" data-path="../drupal/example-for-drupal-8.html">
            
                <a href="../drupal/example-for-drupal-8.html">
            
                    
                    example for Drupal 8 without composer
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.6.3" data-path="../drupal/example-for-drupal-8-with-composer.html">
            
                <a href="../drupal/example-for-drupal-8-with-composer.html">
            
                    
                    example for Drupal 8 with composer
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.6.4" data-path="../drupal/automatic-synchronization-of-sites.html">
            
                <a href="../drupal/automatic-synchronization-of-sites.html">
            
                    
                    Automatic synchronization of sites
            
                </a>
            

            
        </li>
    

            </ul>
            
        </li>
    
        <li class="chapter " data-level="1.7" data-path="../environment_variables.html">
            
                <a href="../environment_variables.html">
            
                    
                    Environment Variables
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.8" data-path="../drupal/drupal.html">
            
                <a href="../drupal/drupal.html">
            
                    
                    Drupal & Drush
            
                </a>
            

            
            <ul class="articles">
                
    
        <li class="chapter " data-level="1.8.1" data-path="../drupal/settingsphpfiles.html">
            
                <a href="../drupal/settingsphpfiles.html">
            
                    
                    Drupal Configuration and settings.php
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.8.2" data-path="../drupal/drush-configuration-files.html">
            
                <a href="../drupal/drush-configuration-files.html">
            
                    
                    Drush Configuration Files
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.8.3" data-path="../drupal/synchronize_sites.html">
            
                <a href="../drupal/synchronize_sites.html">
            
                    
                    Synchronize Sites
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.8.4" data-path="../drupal/drush9.html">
            
                <a href="../drupal/drush9.html">
            
                    
                    Drush 9
            
                </a>
            

            
        </li>
    

            </ul>
            
        </li>
    
        <li class="chapter " data-level="1.9" data-path="../tools.html">
            
                <a href="../tools.html">
            
                    
                    Tools
            
                </a>
            

            
            <ul class="articles">
                
    
        <li class="chapter " data-level="1.9.1" data-path="../tools/blackfireio.html">
            
                <a href="../tools/blackfireio.html">
            
                    
                    Blackfire.io
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.9.2" data-path="../tools/xdebug.html">
            
                <a href="../tools/xdebug.html">
            
                    
                    Xdebug
            
                </a>
            

            
        </li>
    

            </ul>
            
        </li>
    
        <li class="chapter " data-level="1.10" data-path="../add-on/add-on.html">
            
                <a href="../add-on/add-on.html">
            
                    
                    Add-ons
            
                </a>
            

            
            <ul class="articles">
                
    
        <li class="chapter " data-level="1.10.1" data-path="../add-on/cdn_integration.html">
            
                <a href="../add-on/cdn_integration.html">
            
                    
                    CDN Integration
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.10.2" data-path="../add-on/dropguard.html">
            
                <a href="../add-on/dropguard.html">
            
                    
                    Dropguard
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.10.3" data-path="../add-on/newrelic.html">
            
                <a href="../add-on/newrelic.html">
            
                    
                    New Relic
            
                </a>
            

            
        </li>
    

            </ul>
            
        </li>
    
        <li class="chapter " data-level="1.11" data-path="../customizations.html">
            
                <a href="../customizations.html">
            
                    
                    Customization
            
                </a>
            

            
            <ul class="articles">
                
    
        <li class="chapter " data-level="1.11.1" data-path="../customization/solr.html">
            
                <a href="../customization/solr.html">
            
                    
                    Solr Customization
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.11.2" data-path="../customization/nginx.html">
            
                <a href="../customization/nginx.html">
            
                    
                    nginx Customization
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.11.3" data-path="../customization/docker.html">
            
                <a href="../customization/docker.html">
            
                    
                    Docker Customization
            
                </a>
            

            
        </li>
    

            </ul>
            
        </li>
    
        <li class="chapter " data-level="1.12" data-path="../support.html">
            
                <a href="../support.html">
            
                    
                    Support
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.13" data-path="../regular_maintenance.html">
            
                <a href="../regular_maintenance.html">
            
                    
                    Regular Maintenance
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.14" data-path="../changelog.html">
            
                <a href="../changelog.html">
            
                    
                    Changelog
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.15" data-path="../faq.html">
            
                <a href="../faq.html">
            
                    
                    FAQ
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.16" data-path="../comparison.md">
            
                <span>
            
                    
                    Comparison
            
                </a>
            

            
        </li>
    

    

    <li class="divider"></li>

    <li>
        <a href="https://www.gitbook.com" target="blank" class="gitbook-link">
            Published with GitBook
        </a>
    </li>
</ul>


                </nav>
            
        
    </div>

    <div class="book-body">
        
            <div class="body-inner">
                
                    
<div class="alert-danger hints-alert">
    <div class="hints-icon"><i class="fa fa-exclamation-circle"></i></div>
    <div class="hints-container">
        <p>This is the legacy documentation of the amazee.io infrastructure. If you are using Lagoon please head over
            to the <a href="https://lagoon.readthedocs.io">Lagoon Documentation</a></p>
    </div>
</div>



                    <div class="page-wrapper" tabindex="-1" role="main">
                        <div class="page-inner">
                            
                                <section class="normal markdown-section">
                                
                                <h1 id="get-your-drupal-site-running-on-amazeeio">Get your Drupal Site running on amazee.io</h1>
<!-- toc -->
<ul>
<li><a href="#legacy-platform">Legacy Platform</a></li>
<li><a href="#site-setup">Site Setup</a><ul>
<li><a href="#step-1-get-drupal-docker-development-environment">Step 1: Get Drupal Docker Development Environment</a></li>
<li><a href="#step-2-drupal-docker-container">Step 2: Drupal Docker Container</a></li>
<li><a href="#step-3-settingsphp-and-drushrcphp">Step 3: settings.php and drushrc.php</a></li>
<li><a href="#step-4-test-connection-to-the-database">Step 4: Test connection to the database</a></li>
<li><a href="#step-5-install-drupal">Step 5: Install Drupal</a></li>
</ul>
</li>
<li><a href="#add-existing-database">Add existing database</a><ul>
<li><a href="#step-1-get-a-database-dump">Step 1: Get a database dump</a></li>
<li><a href="#step-2-add-dumpsql-file-to-the-container">Step 2: Add dump.sql file to the container</a></li>
<li><a href="#step-3-import-database-from-dump">Step 3: Import database from dump</a></li>
</ul>
</li>
<li><a href="#add-existing-files">Add existing files</a></li>
<li><a href="#done">Done!</a></li>
</ul>
<!-- tocstop -->
<p><div class="alert alert-warning hints-alert"><div class="hints-icon"><i class="fa fa-wrench"></i></div><div class="hints-container"><h2 id="legacy-platform">Legacy Platform</h2>
<p>This documentation is for the legacy platform of amazee.io. If you are setting up a new project, it is likely using <a href="https://github.com/amazeeio/lagoon" target="_blank">Lagoon</a> and has different requirements. Please see the <a href="http://lagoon.readthedocs.io/en/latest/" target="_blank">Lagoon Documentation</a></p>
</div></div></p>
<p>Running on Mac OS X? We created a <a href="https://stories.amazee.io/easy-local-drupal-development-on-os-x-a01a343f99e3" target="_blank">fully documented step by step guide on our blog</a> for you.</p>
<h2 id="site-setup">Site Setup</h2>
<h3 id="step-1-get-drupal-docker-development-environment">Step 1: Get Drupal Docker Development Environment</h3>
<p>The best and easiest way to get your site running on an amazee.io server is to first to get it running inside our <a href="../local_docker_development/local_docker_development.html">Drupal Docker Development Environment</a>. The Docker Environment is exactly the same as the amazee.io servers, so if your site is running inside the Docker Environment, it will also run on the amazee.io servers.</p>
<h3 id="step-2-drupal-docker-container">Step 2: Drupal Docker Container</h3>
<p>Choose a Drupal Docker Container for your site, create the <code>docker-compose.yml</code> file for it and start the containers, see <a href="../local_docker_development/drupal_site_containers.html">Drupal Docker Containers</a> how that works.</p>
<p>You should end up with a Terminal like this:</p>
<pre><code>docker-compose up -d
Creating mysite.docker.amazee.io

docker exec -itu drupal mysite.docker.amazee.io bash
&#x1F528; drupal@mysite.docker.amazee.io:~/public_html (dev)$
</code></pre><p>Please make sure that this <code>public_html</code> directory is the same where your Drupal lives in, so where the <code>index.php</code> file is:</p>
<pre><code>ll index.php
-rw-r--r-- 1 501 dialout 549 Apr 26 06:11 index.php
</code></pre><p>Important for <a href="https://github.com/drupal-composer/drupal-project" target="_blank">Drupal Composer Project Users</a>:
You will not see an <code>index.php</code> file here, instead you will see a <code>web</code> folder (or a similar folder) and a <code>composer.json</code> file. Plus when you run <code>drush</code> later, first change into the directory where the Drupal <code>index.php</code> file is (most probably just via <code>cd web</code>)</p>
<h3 id="step-3-settingsphp-and-drushrcphp">Step 3: settings.php and drushrc.php</h3>
<p>amazee.io has a unique environment variable system, which will tell your Drupal all about the environment it is in, like where to find the Database and how to connect to it.
This has two main advantages:</p>
<ol>
<li>There are no passwords or usernames saved in settings.php files, so you can safely share your whole Drupal Code, without sharing credentials about your site.</li>
<li>The settings.php is the exact same on your Local Docker, on the development and on the production site.</li>
</ol>
<p>Following you find a very basic example to configure the connection to the database. Just add that at the bottom of existing <code>settings.php</code> from Drupal.</p>
<pre><code class="lang-php"><span class="hljs-keyword">if</span>(getenv(<span class="hljs-string">&apos;AMAZEEIO_SITENAME&apos;</span>)) {
  $databases[<span class="hljs-string">&apos;default&apos;</span>][<span class="hljs-string">&apos;default&apos;</span>] = <span class="hljs-keyword">array</span>(
    <span class="hljs-string">&apos;driver&apos;</span> =&gt; <span class="hljs-string">&apos;mysql&apos;</span>,
    <span class="hljs-string">&apos;database&apos;</span> =&gt; getenv(<span class="hljs-string">&apos;AMAZEEIO_SITENAME&apos;</span>),
    <span class="hljs-string">&apos;username&apos;</span> =&gt; getenv(<span class="hljs-string">&apos;AMAZEEIO_DB_USERNAME&apos;</span>),
    <span class="hljs-string">&apos;password&apos;</span> =&gt; getenv(<span class="hljs-string">&apos;AMAZEEIO_DB_PASSWORD&apos;</span>),
    <span class="hljs-string">&apos;host&apos;</span> =&gt; getenv(<span class="hljs-string">&apos;AMAZEEIO_DB_HOST&apos;</span>),
    <span class="hljs-string">&apos;port&apos;</span> =&gt; getenv(<span class="hljs-string">&apos;AMAZEEIO_DB_PORT&apos;</span>),
    <span class="hljs-string">&apos;prefix&apos;</span> =&gt; <span class="hljs-string">&apos;&apos;</span>,
  );
}

<span class="hljs-comment">### amazee.io Base URL</span>
<span class="hljs-keyword">if</span> (getenv(<span class="hljs-string">&apos;AMAZEEIO_BASE_URL&apos;</span>)) {
  $base_url = getenv(<span class="hljs-string">&apos;AMAZEEIO_BASE_URL&apos;</span>);
}
</code></pre>
<p>We <strong>do not</strong> suggest to just use this simple configuration for production sites, but for now, it will do. See <a href="../drupal/settingsphpfiles.html">Drupal Configuration and settings.php</a> and check out the flexibility amazee.io settings.php files allows.</p>
<p>In order to teach Drush about our amazee.io environment, create a new file named <code>drushrc.php</code> inside a folder named <code>drush</code> inside the root directory of your Git repository:</p>
<pre><code>&lt;?php
if (getenv(&apos;AMAZEEIO_BASE_URL&apos;)) {
  $options[&apos;uri&apos;] = getenv(&apos;AMAZEEIO_BASE_URL&apos;);
}
</code></pre><p>There are more Drush files available, read more in our <a href="../drupal/drush-configuration-files.html">Drush Configuration Files</a> section about it. For now this is all you need.</p>
<h3 id="step-4-test-connection-to-the-database">Step 4: Test connection to the database</h3>
<p>It&apos;s time to test! That is done with Drush, it will tell you information about your site:</p>
<pre><code>&#x1F528;  drupal@mysite.docker.amazee.io:~/public_html (dev)$ drush status

Drupal version         :  8.0.6
Site URI               :  http://mysite.docker.amazee.io
Database driver        :  mysql
Database hostname      :  127.0.0.1
Database port          :  3306
Database username      :  drupal
Database name          :  drupal
PHP executable         :  /opt/php7.0//php
PHP configuration      :  /etc/php/7.0/cli/php.ini
PHP OS                 :  Linux
Drush script           :  /opt/drush/8/vendor/drush/drush/drush.php
Drush version          :  8.0.5
Drush temp directory   :  /tmp
Drush configuration    :  /var/www/drupal/public_html/sites/default/drushrc.php
Drush alias files      :  /var/www/drupal/public_html/sites/default/aliases.drushrc.php
Drupal root            :  /var/www/drupal/public_html
Drupal Settings File   :  sites/default/settings.php
Site path              :  sites/default
Sync config path       :  sites/default/config/sync
</code></pre><p>Your output may look a slightly bit different than this one. Here are the things you should see.</p>
<p>The database connection:</p>
<pre><code>Database hostname      :  127.0.0.1
Database port          :  3306
Database username      :  drupal
Database name          :  drupal
</code></pre><h3 id="step-5-install-drupal">Step 5: Install Drupal</h3>
<p>It&apos;s time to install Drupal and test the site in your browser! Again the best and easiest way is with Drush, this time via <code>drush site-install</code></p>
<pre><code>&#x1F528; drupal@mysite.docker.amazee.io:~/public_html (dev)$ drush site-install

You are about to DROP all tables in your &apos;drupal&apos; database. Do you want to continue? (y/n): y

Starting Drupal installation. This takes a while. Consider using the --notify global option.
sh: 1: /usr/sbin/sendmail: not found
Installation complete.  User name: admin  User password: rWYwHTxCK4
Unable to send email. Contact the site administrator if the problem persists.
Congratulations, you installed Drupal!
</code></pre><p>That&apos;s it! Now visit the URL you defined for you Docker Container in your browser and you should see a fresh installed Drupal Site. In this example, this is <code>http://mysite.docker.amazee.io</code></p>
<p>Congratulations! You just created your first amazee.io Drupal Site!</p>
<p><img src="congratulations.gif" alt="Congratulations"></p>
<h2 id="add-existing-database">Add existing database</h2>
<p>You may have an existing Drupal database you would like to import into your Docker Container. Of course, we support that.</p>
<h3 id="step-1-get-a-database-dump">Step 1: Get a database dump</h3>
<p>This step depends on how you currently host. There are many different ways on how to create a database dump.
If your current hosting provider has Drush installed, you can use the following:</p>
<pre><code>drush sql-dump --result-file=dump.sql

Database dump saved to dump.sql
</code></pre><p>Now you have a <code>dump.sql</code> file that contains your whole database.</p>
<h3 id="step-2-add-dumpsql-file-to-the-container">Step 2: Add dump.sql file to the container</h3>
<p>As the Docker Container has automatically access to your whole Drupal code, you can just place the dump inside your Drupal directory:</p>
<pre><code>ll dump.sql
-rw-r--r-- 1 501 dialout 3098963 May  1 14:44 dump.sql
</code></pre><h3 id="step-3-import-database-from-dump">Step 3: Import database from dump</h3>
<p>Again drush, this time <code>drush sql-cli</code>.</p>
<pre><code>drush sql-cli &lt; dump.sql
</code></pre><p>You can verify that it worked with:</p>
<pre><code>drush sql-query &quot;show tables;&quot;

batch
block_content
block_content__body
block_content_field_data
block_content_field_revision
block_content_revision
block_content_revision__body
cache_bootstrap
cache_config
cache_container
... (a lot more here)
</code></pre><p>That&apos;s it! It is a good idea to clear all caches via <code>drush cr</code> for Drupal 8 or <code>drush cc all</code> for Drupal 7.</p>
<h2 id="add-existing-files">Add existing files</h2>
<p>The Drupal directory is available inside the Docker Container.
In order to add your Drupal files, just put them in the directory you had them before, <code>sites/default/files</code>.</p>
<h2 id="done">Done!</h2>
<p>Congratulations! You have now a full local Drupal Hosting environment at your fingertips. We wish you happy drupaling.</p>
<p>Btw: Pushing your site to an amazee.io server is as easy as just a git push.</p>

                                
                                </section>
                            
                        </div>
                    </div>
                
            </div>

            
                
                <a href="technical_requirements.html" class="navigation navigation-prev " aria-label="Previous page: Technical Requirements">
                    <i class="fa fa-angle-left"></i>
                </a>
                
                
                <a href="push-local-site-to-development-server.html" class="navigation navigation-next " aria-label="Next page: Push local site to development server">
                    <i class="fa fa-angle-right"></i>
                </a>
                
            
        
    </div>

    <script>
        var gitbook = gitbook || [];
        gitbook.push(function() {
            gitbook.page.hasChanged({"page":{"title":"Get your Drupal Site locally running","level":"1.2.2","depth":2,"next":{"title":"Push local site to development server","level":"1.2.3","depth":2,"path":"step_by_step_guides/push-local-site-to-development-server.md","ref":"step_by_step_guides/push-local-site-to-development-server.md","articles":[]},"previous":{"title":"Technical Requirements","level":"1.2.1","depth":2,"path":"step_by_step_guides/technical_requirements.md","ref":"step_by_step_guides/technical_requirements.md","articles":[]},"dir":"ltr"},"config":{"plugins":["atoc","copy-code-button","heading-anchors","hints","advanced-emoji","-lunr","-search"],"styles":{"website":"styles/website.css","pdf":"styles/pdf.css","epub":"styles/epub.css","mobi":"styles/mobi.css","ebook":"styles/ebook.css","print":"styles/print.css"},"pluginsConfig":{"atoc":{},"hints":{"danger":"fa fa-exclamation-circle","info":"fa fa-info-circle","tip":"fa fa-mortar-board","working":"fa fa-wrench"},"fontsettings":{"theme":"white","family":"sans","size":2},"heading-anchors":{},"highlight":{},"copy-code-button":{},"advanced-emoji":{"embedEmojis":false},"sharing":{"facebook":true,"twitter":true,"google":false,"weibo":false,"instapaper":false,"vk":false,"all":["facebook","google","twitter","weibo","instapaper"]},"theme-default":{"styles":{"website":"styles/website.css","pdf":"styles/pdf.css","epub":"styles/epub.css","mobi":"styles/mobi.css","ebook":"styles/ebook.css","print":"styles/print.css"},"showLevel":false}},"theme":"default","pdf":{"pageNumbers":true,"fontSize":12,"fontFamily":"Arial","paperSize":"a4","chapterMark":"pagebreak","pageBreaksBefore":"/","margin":{"right":62,"left":62,"top":56,"bottom":56}},"structure":{"langs":"LANGS.md","readme":"README.md","glossary":"GLOSSARY.md","summary":"SUMMARY.md"},"variables":{},"title":"docs.amazee.io","links":{"sidebar":{"www.amazee.io":"https://www.amazee.io"}},"gitbook":"*"},"file":{"path":"step_by_step_guides/get_your_drupal_site_running_on_amazeeio.md","mtime":"2019-03-13T20:44:15.332Z","type":"markdown"},"gitbook":{"version":"3.2.2","time":"2020-10-27T10:52:49.553Z"},"basePath":"..","book":{"language":""}});
        });
    </script>
</div>

        
    <script src="../gitbook/gitbook.js"></script>
    <script src="../gitbook/theme.js"></script>
    
        
        <script src="../gitbook/gitbook-plugin-atoc/atoc.js"></script>
        
    
        
        <script src="../gitbook/gitbook-plugin-copy-code-button/toggle.js"></script>
        
    
        
        <script src="https://cdnjs.cloudflare.com/ajax/libs/anchor-js/1.2.1/anchor.min.js"></script>
        
    
        
        <script src="../gitbook/gitbook-plugin-heading-anchors/anchor-style.js"></script>
        
    
        
        <script src="../gitbook/gitbook-plugin-sharing/buttons.js"></script>
        
    
        
        <script src="../gitbook/gitbook-plugin-fontsettings/fontsettings.js"></script>
        
    

    </body>
</html>

